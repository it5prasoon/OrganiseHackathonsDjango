{% extends "base.html" %}
{% load static %}
{% block metadescription %}
    {% if category %}
        {{ category.description| truncatewords:"155" }}
    {% else %}
        Welcome To the site where you can search for hackathons conducting all over country.
    {% endif %}
{% endblock %}
{% block title %}
    {% if category %}
        {{ category.name }} - Hackathon List
    {% else %}
        See the list.
    {% endif %}
{% endblock %}
{% block content %}
    <!--Breadcrumb navigation-->
    {% if category %}
        <div class="row my_row_class">
            <div class="mx-auto">
                <p><a href="{% url 'main:allProdcat' %}">Our list</a> | {{ category.name }}</p>
            </div>
        </div>
    {% endif %}

    <div class="mx-auto">
        {% if category %}
            <img class="my_image1" src="{{ category.image.url }}" alt="{{ category.name }}">
            </div>
            <br>
            <div>
                <h1 class="text-center my_title">{{ category.name }}</h1>
                <p class="text-justify">{{ category.description }}</p>
            </div>
        {% endif %}
    <div class="jumbotron">
        <h1>Hackathons Continued!</h1>
        <p class="text-muted">Here You can explore hackathons conducted by different tech companies.</p>
        <p class="text-muted">To create your Hackathon - Register as the role of <b>Organiser</b> so that you will get
            the organise dashboard! </p>

    </div>
    <div class="container">
        <div class="row mx-auto">
            {% if lists %}
                {% for list in lists %}
                    <div class="my_bottom_margin col-12 col-sm-6 col-md-6 col-lg-4">
                        <div class="card shadow text-center" style="min-width: 17rem;">
                            <div class="inner">
                                <a href="{{ list.get_url }}"><img class="card-img-top my_image"
                                                                  src="{{ list.image.url }}"
                                                                  alt="{{ list.name }}"></a>
                            </div>
                            <div class="card-body">
                                <h4>{{ list.name }}</h4>
                                <p>Registered: {{ list.registered }} People</p>
                                <p>
                                    {% if list.daysLeft == True %}
                                        <mark>Registration Open</mark>
                                    {% else %}
                                        <mark>Registration Closed</mark>
                                    {% endif %}
                                </p>
                            </div>
                        </div>
                    </div>
                {% endfor %}

            {% else %}
                <p><strong>Sorry, there are no hackathon event available!</strong></p>
            {% endif %}
        </div>
    </div>

{% endblock %}